Sys.Date()
Sys.Date()-"1995-089-31"
Sys.Date()-"1995-89-31"
as.numeric(Sys.Date())-as.numeric("1995-89-31")
as.numeric(Sys.Date())-as.numeric("1995-09-31")
as.numeric(Sys.Date())
as.numeric(Sys.Date())-as.numeric(as.Date("1995-09-31"))
as.Date(Sys.Date())-as.Date("1995-09-31")
as.Date(Sys.Date())
as.Date("1995-09-31")
as.Date("1995-12-31")
as.Date("1995-12-06")
as.Date(Sys.Date())-as.Date("1995-12-06")
(as.Date(Sys.Date())-as.Date("1995-12-06"))
(as.Date(Sys.Date())-as.Date("1995-12-06"))/12
as.numeric(as.Date(Sys.Date())-as.Date("1995-12-06")))
as.numeric(as.Date(Sys.Date())-as.Date("1995-12-06"))
as.numeric(as.Date(Sys.Date())-as.Date("1995-12-06"))/12
as.numeric(as.Date(Sys.Date())-as.Date("1995-12-06"))/365
Barrios  <- c(32,33,33,33,32)
SEXO  <-  c("Varon","Mujer","Mujer","Varon","Mujer")
BARRIOS  <- c(32,33,33,33,32)
SEXO  <-  c("Varon","Mujer","Mujer","Varon","Mujer")
EDAD  <-  c(60,54,18,27,32)
class(AGLOMERADO)
BARRIOS
BARRIOS  <- c(32,33,33,33,32)
SEXO  <-  c("Varon","Mujer","Mujer","Varon","Mujer")
EDAD  <-  c(60,54,18,27,32)
class(BARRIOS)
sum(EDAD)
mean(EDAD)
median(EDAD)
sd(EDAD)
length(EDAD)
pais <- rep("Argentina",100)
id_firma   <- rep(seq(1:20), 5)
Año        <- rep(2021:2025, each = 20)
Produccion <- sample(10000:50000, 100, replace = TRUE)
Empleados  <- sample(1:150, 100, replace = TRUE)
base <- data.frame(pais, id_firma, Año, Produccion, Empleados)
base <- data.frame(rep("Argentina",100), rep(seq(1:20), 5), rep(2018:2022, each = 20), sample(10000:50000, 100, replace = TRUE), sample(1:150, 100, replace = TRUE))
base <- data.frame(pais, id_firma, Año, Produccion, Empleados)
View(base) # distintas formas de hacer esto
base_arg <- data.frame(pais, id_firma, Año, Produccion, Empleados)
pais <- rep("Brasil", 100)
Produccion <- sample(10000:50000, 100, replace = TRUE) # opción con set.seed()
Empleados  <- sample(1:150, 100, replace = TRUE)
base_br <- data.frame(pais, id_firma, Año, Produccion, Empleados)
pais <- rep("Chile", 100)
Produccion <- sample(10000:50000, 100, replace = TRUE) # opción con set.seed()
Empleados  <- sample(1:150, 100, replace = TRUE)
base_ch <- data.frame(pais, id_firma, Año, Produccion, Empleados)
Produccion <- sample(10000:50000, 100, replace = TRUE) # opción con set.seed()
Empleados  <- sample(1:150, 100, replace = TRUE)
base_ch <- data.frame(pais, id_firma, Año, Produccion, Empleados)
Lista <- list(base_arg, base_br, base_ch)
class(base_arg)
class(Lista)
View(Lista)
base_arg$pais # qué pasa si hacemos esto creando base como (*)?
base_arg$pais # qué pasa si hacemos esto creando base como (*)?
base[,1]
base[1,1]
class(base$pais)
base[,4]
mean(base[,4])
weighted.mean(base[,4], base[,3]) # Quiz, ¿por qué me dan similares?
saveRDS(Lista, "lista.rds")
base_recuperada <- readRDS("lista.rds")
# Exportar a Excel (requiere openxlsx)
# install.packages("openxlsx")
library(openxlsx)
write.xlsx(base, "base.xlsx")
# Leer Excel (requiere readxl)
library(readxl)
base1 <- read_excel("base.xlsx")
# install.packages("tidyverse") # instalación (una sola vez)
library(tidyverse)
base2 <- base %>%
select(id_firma, Año, Produccion, Empleados) %>%
filter(Año > 2020) %>%
rename("Numero" = "id_firma") %>%
mutate(contador = 1)
head(base2)
base <- read.csv("C:/Users/franl/Dropbox/Trabajos/bases de datos")
base <- read.csv("C:/Users/franl/Dropbox/Trabajos/bases de datos/train_bi_2025.csv")
View(base1)
View(base)
str(base)
names(base)
head(base, 10)
head(base, 10)
base_sin_desc <- base[,-12]
base_completa <- read.csv("C:/Users/franl/Dropbox/Trabajos/bases de datos/train_bi_2025.csv")
base <- read.csv("C:/Users/franl/Dropbox/Trabajos/bases de datos/train_bi_2025.csv")
str(base)
names(base)
head(base, 10)
base_op <- base[,-12]
head(base,10)
head(base_op,10)
head(base_op,10)
base_op$created_on
mean(base_op$created_on)
mean(as.numeric(as.Date(base_op$created_on)))
as.Date(mean(as.numeric(as.Date(base_op$created_on))))
as.Date(mean(as.numeric(as.Date(base_op$created_on))))
as.Date(mean(as.numeric(as.Date(base_op$created_on))), origin = "1970-01-01")
as.Date(median(as.numeric(as.Date(base_op$created_on))), origin = "1970-01-01")
View(base)
table(as.Date(base_op$created_on))
tabla <- table(as.Date(base_op$created_on))
View(tabla)
base_modif <- base |>
mutate(año = year(as.Date(created_on)))
View(base_modif)
set.seed(040621)
set.seed(121822)
base_op <- base[,-c(2,3,12)]
head(base_op,10)
lapply(base_prueba, mean)
lapply(base_op, mean)
base_op <- base[,-c(2,3,12)]
View(base_op)
names(base)
names(base)[4] <- "Zona"
names(base)
names(base)[5] <- "Barrio"
names(base)
names(base)[1] <- "Fecha"
names(base)[c(1,4,5)] <- c("Fecha", "Zona", "Barrio")
names(base)
names(base)
head(base, 10)
base_op <- base[,-c(2,3,12)]
head(base_op,10)
lapply(base_op, mean)
?which
?which()
base <- read.csv("C:/Users/franl/Dropbox/Trabajos/bases de datos/train_bi_2025.csv")
str(base)
names(base)
names(base)[1] <- "Fecha"
names(base)[4] <- "Zona"
names(base)[5] <- "Barrio"
names(base)[c(1,4,5)] <- c("Fecha", "Zona", "Barrio")
names(base)
head(base, 10)
base_op <- base[,-c(2,3,12)]
head(base_op,10)
base_pruebas <- sample(base_op, 50000) # Pregunta: siempre nos va a servir esto?
base_pruebas <- sample(base_op, 5000) # Pregunta: siempre nos va a servir esto?
base_pruebas <- sample(base_op, 500) # Pregunta: siempre nos va a servir esto?
base_pruebas <- sample(base_op, 5) # Pregunta: siempre nos va a servir esto?
?sample
base_pruebas <- sample_n(base_op, 50000) # Pregunta: siempre nos va a servir esto?
base_pruebas <- dplyr::sample_n(base_op, 50000) # Pregunta: siempre nos va a servir esto?
View(base_pruebas)
lapply(base_op, mean)
?which()
lapply(base_op, is.numeric())
sapply(base_op, is.numeric())
sapply(base_op, is.numeric
lapply(base_op, is.numeric)
lapply(base_op, is.numeric)
sapply(base_op, is.numeric)
mean(base_op$created_on)
base_op$Fecha
as.Date(base_op$Fecha)
as.numeric(as.Date(base_op$Fecha))
as.numeric(as.Date(base_op$Fecha))[10]
lapply(base_op[sapply(base_op, is.numeric)==T])
lapply(base_op[sapply(base_op, is.numeric)==T], mean)
sapply(base_op[sapply(base_op, is.numeric)==T], mean)
lapply(base_op[sapply(base_op, is.numeric)==T], mean)
lapply(base_op[sapply(base_op, is.numeric)==T], mean)
sapply(base_op[sapply(base_op, is.numeric)==T], mean)
options(scipen = 999)
sapply(base_op[sapply(base_op, is.numeric)==T], mean)
options(scipen = 999, digits = 4)
sapply(base_op[sapply(base_op, is.numeric)==T], mean)
base_modif <- base |>
mutate(año = year(as.Date(created_on)),
mes = month(as.Date(created_on)))
library(tidyverse)
base_modif <- base |>
mutate(año = year(as.Date(created_on)),
mes = month(as.Date(created_on)))
base_modif <- base %>%
mutate(año = year(as.Date(created_on)),
mes = month(as.Date(created_on)))
base_modif <- base %>%
mutate(año = year(as.Date(Fecha)),
mes = month(as.Date(Fecha)))
View(base_modif)
base_modif <- base_op %>%
mutate(año = year(as.Date(Fecha)),
mes = month(as.Date(Fecha)))
tabla <- table(as.Date(base_op$created_on))
View(tabla)
tabla <- table(as.Date(base_op$Fecha))
View(tabla)
View(tabla)
base_modif <- base_op %>%
mutate(año = year(as.Date(Fecha)),
mes = month(as.Date(Fecha)),
dia = day(as.Date(Fecha)))
View(base_modif)
base_modif <- base_op %>%
mutate(año = year(as.Date(Fecha)),
mes = month(as.Date(Fecha)),
dia = weekday(as.Date(Fecha)))
base_modif <- base_op %>%
mutate(año = year(as.Date(Fecha)),
mes = month(as.Date(Fecha)),
dia = weekdays(as.Date(Fecha)))
tabla <- table(as.Date(base_op$Fecha)) %>%
mutate(dia = weekdays(as.Date(Var1)))
tabla <- table(as.Date(base_op$Fecha)) %>%
mutate(dia = weekdays(as.Date(Var1)))
tabla <- table(as.Date(base_op$Fecha))
base_modif <- base_op %>%
mutate(año = year(as.Date(Fecha)),
mes = month(as.Date(Fecha)),
dia = weekdays(as.Date(Fecha))) %%
group_by(dia) %>%
summarise(n = n())
base_modif <- base_op %>%
mutate(año = year(as.Date(Fecha)),
mes = month(as.Date(Fecha)),
dia = weekdays(as.Date(Fecha))) %>%
group_by(dia) %>%
summarise(n = n())
View(base_modif)
